<div class="container mt-4">
  <div class="card shadow-sm">
    <div class="card-header bg-white py-3">
      <div class="row align-items-center">
        <div class="col">
          <h4 class="mb-0">Library Catalog</h4>
        </div>
        <div class="col-6">
          <div role="search" class="input-group">
            <span class="input-group-text bg-light border-end-0">
              <i class="bi bi-search">üîç</i>
            </span>
            <input
              type="text"
              class="form-control border-start-0 ps-0"
              placeholder="Search title or author..."
              [value]="store.filter.query()"
              (input)="onUpdateQuery($any($event.target).value)"
            />
          </div>
        </div>
      </div>
    </div>

    <div class="table-responsive">
      <table class="table table-hover align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th style="width: 10%">ID</th>
            <th (click)="onChangeOrder()" style="cursor: pointer" class="user-select-none">
              Title
              <span>{{ store.filter.order() === 'asc' ? '‚Üë' : '‚Üì' }}</span>
            </th>

            <th class="text-end">Actions</th>
          </tr>
        </thead>
        <tbody>
          @for (book of store.visibleBooks(); track book.id) {
          <tr>
            <td>
              <span class="text-muted small">#{{ book.id }}</span>
            </td>
            <td class="fw-bold">{{ book.title }}</td>

            <td class="text-end">
              <button class="btn btn-sm btn-outline-primary me-1" (click)="selectBook(book.id)">
                Edit
              </button>
            </td>
          </tr>
          } @empty {
          <tr>
            <td colspan="5" class="text-center py-5 text-muted">
              No books found matching "{{ store.filter.query() }}"
            </td>
          </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
</div>
